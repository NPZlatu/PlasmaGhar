{"version":3,"sources":["../../es6/signup.js"],"names":["SignUp","selector","rules","regex","value","error","required","conditions","match","clicked","states","model","getModel","onSignUpConfirmClick","bind","checkValidation","setModalListeners","setUpListeners","$","click","modal","window","location","href","includes","setUpOnBlurListeners","setUpOnChangeListeners","on","length","requestStates","addClass","resetForm","map","v","index","self","blur","showError","code","data","console","log","requestDistricts","hide","prop","errorElement","next","text","show","element","val","message","valid","forEach","cond","RegExp","test","matchSelectorVal","retrunVal","i","healthFine","userRole","toaster","settings","timeout","priority","title","agree","checkIfHealthConditionsFine","checkIfTermsAndConditionsAgreed","registerUser","axios","get","then","populateStates","stateCode","districts","populateDistricts","html","options","name","append","phone_number","email","blood_group","state","district","password","user_role","post","response","success","_error","document","ready","defaults","headers","attr","common"],"mappings":"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","sourcesContent":["/**\r\n * Class to handle signup actions\r\n */\r\nclass SignUp {\r\n  getModel() {\r\n    return [\r\n      {\r\n        selector: \"phoneNumber\",\r\n        rules: {\r\n          regex: {\r\n            value: /^[0-9]{10}$/,\r\n            error: \"Phone Number must have 10 digits.\",\r\n          },\r\n        },\r\n        value: \"\",\r\n      },\r\n      {\r\n        selector: \"email\",\r\n        rules: {\r\n          regex: {\r\n            value: /\\S+@\\S+\\.\\S+/,\r\n            error: \"Valid email address is required.\",\r\n          },\r\n        },\r\n        value: \"\",\r\n      },\r\n      {\r\n        selector: \"bloodGroup\",\r\n        rules: {\r\n          required: {\r\n            value: true,\r\n            conditions: [\r\n              {\r\n                selector: \"input#gridRadios2:checked\",\r\n                value: true,\r\n              },\r\n            ],\r\n            error: \"Blood Group is required.\",\r\n          },\r\n        },\r\n        value: \"\",\r\n      },\r\n\r\n      {\r\n        selector: \"state\",\r\n        rules: {\r\n          required: {\r\n            value: true,\r\n            error: \"State is required.\",\r\n          },\r\n        },\r\n        value: \"\",\r\n      },\r\n      {\r\n        selector: \"district\",\r\n        rules: {\r\n          required: {\r\n            value: true,\r\n            error: \"District is required.\",\r\n          },\r\n        },\r\n        value: \"\",\r\n      },\r\n      {\r\n        selector: \"password\",\r\n        rules: {\r\n          regex: {\r\n            value: /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/,\r\n            error:\r\n              \"Password must be minimum eight characters, at least one letter and one number\",\r\n          },\r\n        },\r\n        value: \"\",\r\n      },\r\n      {\r\n        selector: \"confirm-password\",\r\n        rules: {\r\n          match: {\r\n            value: \"password\",\r\n            error: \"Confirm Password does not match.\",\r\n          },\r\n        },\r\n        value: \"\",\r\n      },\r\n    ];\r\n  }\r\n\r\n  constructor() {\r\n    this.clicked = false;\r\n    // this.signUpProgress = false;\r\n    this.states = [];\r\n    this.model = this.getModel();\r\n    this.onSignUpConfirmClick = this.onSignUpConfirmClick.bind(this);\r\n    this.checkValidation = this.checkValidation.bind(this);\r\n    this.setModalListeners = this.setModalListeners.bind(this);\r\n    this.setUpListeners();\r\n  }\r\n\r\n  setUpListeners() {\r\n    $(\".confirm-signup\").click(this.onSignUpConfirmClick);\r\n    $(\".signin-register\").click(function () {\r\n      $(\"#signupModal\").modal(\"hide\");\r\n      if (!window.location.href.includes(\"/user/register\")) {\r\n        $(\"#signinModal\").modal(\"show\");\r\n      } else {\r\n        window.location.href = \"/user/login\";\r\n      }\r\n    });\r\n    this.setUpOnBlurListeners();\r\n    this.setUpOnChangeListeners();\r\n    this.setModalListeners();\r\n  }\r\n\r\n  setModalListeners() {\r\n    $(\"#signupModal\").on(\"shown.bs.modal\", () => {\r\n      if (this.states.length === 0) this.requestStates();\r\n      $(\"body\").addClass(\"modal-open\");\r\n    });\r\n\r\n    $(\"#signupModal\").on(\"hidden.bs.modal\", () => {\r\n      if (window.location.href.includes(\"/user/register\")) {\r\n        window.location.href = \"/\";\r\n      } else this.resetForm();\r\n    });\r\n  }\r\n\r\n  setUpOnBlurListeners() {\r\n    this.model.map((v, index) => {\r\n      const { selector, rules } = v;\r\n      const self = this;\r\n      $(`#${selector}`).blur(function () {\r\n        if (self.clicked) self.showError(selector, rules, index);\r\n      });\r\n    });\r\n  }\r\n\r\n  setUpOnChangeListeners() {\r\n    const self = this;\r\n\r\n    $(\"#state\").on(\"change\", function () {\r\n      if (this.value) {\r\n        const code = $(\"option:selected\", this).data(\"code\");\r\n        console.log(code);\r\n        self.requestDistricts(code);\r\n      } else {\r\n        $(\".district-wrapper\").hide();\r\n      }\r\n    });\r\n\r\n    $(\"input#gridRadios2\").on(\"click\", function () {\r\n      $(\"input#gridRadios1\").prop(\"checked\", false);\r\n      $(\".plasma-warning\").hide();\r\n      $(\".confirm-health\").hide();\r\n      const errorElement = $(\"#bloodGroup\").next();\r\n      errorElement.text(\"\");\r\n      errorElement.hide();\r\n    });\r\n\r\n    $(\"input#gridRadios1\").on(\"click\", function () {\r\n      $(\"input#gridRadios2\").prop(\"checked\", false);\r\n      $(\".plasma-warning\").show();\r\n      $(\".confirm-health\").show();\r\n    });\r\n  }\r\n\r\n  showError(selector, rules, index) {\r\n    const element = $(`#${selector}`);\r\n    const value = element.val();\r\n    const errorElement = element.next();\r\n    let message = \"\";\r\n    let valid = true;\r\n\r\n    if (!value && rules.required && rules.required.value) {\r\n      if (!rules.required.conditions) {\r\n        valid = false;\r\n        message = rules.required.error;\r\n      } else {\r\n        rules.required.conditions.forEach((cond) => {\r\n          const selector = cond.selector;\r\n          if (!$(selector).val()) {\r\n            valid = false;\r\n            message = rules.required.error;\r\n          }\r\n        });\r\n      }\r\n    } else if (rules.regex) {\r\n      valid = new RegExp(rules.regex.value).test(value);\r\n      if (rules.required && rules.required.value === false) {\r\n        valid = !value || valid;\r\n      }\r\n      if (!valid) message = rules.regex.error;\r\n    } else if (rules.match) {\r\n      const matchSelectorVal = $(`#${rules.match.value}`).val();\r\n      if (value !== matchSelectorVal) {\r\n        valid = false;\r\n        message = rules.match.error;\r\n      }\r\n    }\r\n    if (!valid && message) {\r\n      errorElement.text(message);\r\n      errorElement.show();\r\n    } else {\r\n      errorElement.text(\"\");\r\n      errorElement.hide();\r\n    }\r\n    this.model[index].value = value;\r\n    return valid;\r\n  }\r\n\r\n  checkValidation() {\r\n    let valid = true;\r\n    let retrunVal = true;\r\n    for (let i = 0; i < this.model.length; i++) {\r\n      const { selector, rules } = this.model[i];\r\n      valid = this.showError(selector, rules, i);\r\n      if (!valid) retrunVal = false;\r\n    }\r\n    return retrunVal;\r\n  }\r\n\r\n  resetForm() {\r\n    this.model.forEach((v) => {\r\n      const { selector } = v;\r\n      $(`#${selector}`).val(\"\");\r\n      v.value = \"\";\r\n    });\r\n    $(\".invalid-feedback\").hide();\r\n  }\r\n\r\n  checkIfHealthConditionsFine() {\r\n    let healthFine = false;\r\n    const userRole = $(\"input#gridRadios1:checked\").val() ? 0 : 1;\r\n    if (userRole === 1) healthFine = true;\r\n    else {\r\n      if ($(\"#confirmHealth:checked\").val()) {\r\n        healthFine = true;\r\n      } else {\r\n        healthFine = false;\r\n        $.toaster({ settings: { timeout: 5000 } });\r\n        $.toaster({\r\n          priority: \"danger\",\r\n          title: \"Confirm Health\",\r\n          message: `You must confirm that you do not have listed health conditions before signup.`,\r\n        });\r\n      }\r\n    }\r\n    return healthFine;\r\n  }\r\n\r\n  checkIfTermsAndConditionsAgreed() {\r\n    let agree = true;\r\n    if (!$(\"#terms:checked\").val()) {\r\n      $.toaster({ settings: { timeout: 5000 } });\r\n      $.toaster({\r\n        priority: \"danger\",\r\n        title: \"Terms and Conditions\",\r\n        message: `You must agree to our terms and conditions to proceed further.`,\r\n      });\r\n      agree = false;\r\n    }\r\n    return agree;\r\n  }\r\n\r\n  onSignUpConfirmClick() {\r\n    this.clicked = true;\r\n    const valid = this.checkValidation();\r\n    if (valid) {\r\n      if (this.checkIfHealthConditionsFine()) {\r\n        if (this.checkIfTermsAndConditionsAgreed()) this.registerUser();\r\n      }\r\n    }\r\n  }\r\n\r\n  requestStates() {\r\n    axios\r\n      .get(\"/address/get-states\")\r\n      .then(({ data: states }) => {\r\n        if (states && states.length > 0) {\r\n          this.states = states;\r\n          this.populateStates();\r\n        }\r\n      })\r\n      .catch(function (error) {});\r\n  }\r\n\r\n  requestDistricts(stateCode) {\r\n    axios\r\n      .get(`/address/get-districts?code=${stateCode}`)\r\n      .then(({ data: districts }) => {\r\n        if (districts && districts.length > 0) {\r\n          this.populateDistricts(districts);\r\n        }\r\n      })\r\n      .catch(function (error) {});\r\n  }\r\n\r\n  populateStates() {\r\n    const { states } = this;\r\n    $(\"#state\").html(\"\");\r\n    let options = \"<option selected value>SELECT STATE</option>\";\r\n\r\n    for (let i = 0; i < states.length; i++) {\r\n      options += `<option data-code=${states[i].code} value=${states[i].name}>${states[i].name}</option>`;\r\n    }\r\n    $(\"#state\").append(options);\r\n  }\r\n\r\n  populateDistricts(districts) {\r\n    $(\"#district\").html(\"\");\r\n    let options = \"<option selected value>SELECT DISTRICT</option>\";\r\n    for (let i = 0; i < districts.length; i++) {\r\n      options += `<option data-code=${districts[i].code} value=${districts[i].name}>${districts[i].name}</option>`;\r\n    }\r\n    $(\".district-wrapper\").show();\r\n    $(\"#district\").append(options);\r\n  }\r\n\r\n  registerUser() {\r\n    const { model } = this;\r\n    // this.signUpProgress = true;\r\n    const data = {\r\n      phone_number: model[0].value,\r\n      email: model[1].value,\r\n      blood_group: model[2].value,\r\n      state: model[3].value,\r\n      district: model[4].value,\r\n      password: model[5].value,\r\n      user_role: $(\"input#gridRadios1:checked\").val() ? 0 : 1,\r\n    };\r\n\r\n    axios\r\n      .post(\"/user/save\", data)\r\n      .then(({ data: response }) => {\r\n        if (response && response.success) {\r\n          this.resetForm();\r\n          $(\"#signupModal\").modal(\"hide\");\r\n          $.toaster({ settings: { timeout: 15000 } });\r\n\r\n          $.toaster({\r\n            priority: \"success\",\r\n            title: \"Success\",\r\n            message: `You are successfully registered, we have sent a confirmation link on your email. \r\n          Please click on that link to verify your email.          `,\r\n          });\r\n          // this.signUpProgress = false;\r\n        } else if (\r\n          response &&\r\n          response.error &&\r\n          response.error === \"exist already\"\r\n        ) {\r\n          const errorElement = $(\"#email\").next();\r\n          errorElement.text(\"User already exists with this email\");\r\n          errorElement.show();\r\n          $.toaster({ settings: { timeout: 5000 } });\r\n          $.toaster({\r\n            priority: \"danger\",\r\n            title: \"Error\",\r\n            message: `The user already exists with the email`,\r\n          });\r\n          // this.signUpProgress = false;\r\n        }\r\n      })\r\n      .catch(function (_error) {\r\n        $.toaster({ settings: { timeout: 5000 } });\r\n        $.toaster({\r\n          priority: \"danger\",\r\n          title: \"Error\",\r\n          message: `Something is wrong. Please try later`,\r\n        });\r\n        // this.signUpProgress = false;\r\n      });\r\n  }\r\n}\r\n\r\n$(document).ready(function () {\r\n  axios.defaults.headers.post[\"X-CSRF-Token\"] = $(\r\n    'meta[name=\"csrf-token\"]'\r\n  ).attr(\"content\");\r\n  axios.defaults.headers.common[\"X-Requested-With\"] = \"XMLHttpRequest\";\r\n\r\n  new SignUp();\r\n});\r\n"],"file":"signup.js"}