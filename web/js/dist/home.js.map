{"version":3,"sources":["../../es6/home.js"],"names":["Home","clicked","requestToDonorProgress","model","selector","rules","required","value","error","regex","filters","blood_group","state","district","checkValidation","bind","onFeedBackSubmit","requestDistricts","resetFilters","onSearchClick","onRequestClick","setUpListeners","setUpOnBlurListeners","setUpSearchFieldsListeners","setModalListeners","setSearchListPageListeners","$","on","onIWillHelpClick","location","href","includes","searchParams","URLSearchParams","window","search","has","get","self","donorId","attr","modal","reload","code","show","text","bloodGroup","user","parseInt","sendRequestToDonor","id","role","toaster","settings","timeout","priority","title","message","axios","post","p_donor_id","p_requested_blood_group","p_requested_state","p_requested_district","then","data","t_result","prop","off","t_apply_count","console","log","stateCode","districts","length","populateDistricts","html","unbind","donors","trElement","forEach","donor","index","push","append","join","elements","name","map","v","blur","showError","element","val","errorElement","next","valid","conditions","cond","RegExp","test","match","matchSelectorVal","hide","retrunVal","i","requestSearchLists","encodeURIComponent","event","preventDefault","sendFeedback","email","response","success","resetForm","document","ready"],"mappings":";;;;;;;;IAAMA,I;AACJ,kBAAc;AAAA;;AACZ,SAAKC,OAAL,GAAe,KAAf;AACA,SAAKC,sBAAL,GAA8B,KAA9B;AACA,SAAKC,KAAL,GAAa,CACX;AACEC,MAAAA,QAAQ,EAAE,cADZ;AAEEC,MAAAA,KAAK,EAAE;AACLC,QAAAA,QAAQ,EAAE;AACRC,UAAAA,KAAK,EAAE,IADC;AAERC,UAAAA,KAAK,EAAE;AAFC;AADL,OAFT;AAQED,MAAAA,KAAK,EAAE;AART,KADW,EAWX;AACEH,MAAAA,QAAQ,EAAE,aADZ;AAEEC,MAAAA,KAAK,EAAE;AACLC,QAAAA,QAAQ,EAAE;AACRC,UAAAA,KAAK,EAAE,IADC;AAERC,UAAAA,KAAK,EAAE;AAFC;AADL,OAFT;AAQED,MAAAA,KAAK,EAAE;AART,KAXW,EAqBX;AACEH,MAAAA,QAAQ,EAAE,UADZ;AAEEC,MAAAA,KAAK,EAAE;AACLI,QAAAA,KAAK,EAAE;AACLF,UAAAA,KAAK,EAAE,yJADF;AAELC,UAAAA,KAAK,EAAE;AAFF;AADF,OAFT;AAQED,MAAAA,KAAK,EAAE;AART,KArBW,EA+BX;AACEH,MAAAA,QAAQ,EAAE,QADZ;AAEEC,MAAAA,KAAK,EAAE;AACLC,QAAAA,QAAQ,EAAE;AACRC,UAAAA,KAAK,EAAE,IADC;AAERC,UAAAA,KAAK,EAAE;AAFC;AADL,OAFT;AAQED,MAAAA,KAAK,EAAE;AART,KA/BW,CAAb;AA2CA,SAAKG,OAAL,GAAe;AACbC,MAAAA,WAAW,EAAE,EADA;AAEbC,MAAAA,KAAK,EAAE,EAFM;AAGbC,MAAAA,QAAQ,EAAE;AAHG,KAAf;AAMA,SAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKC,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBD,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKE,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBF,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKG,YAAL,GAAoB,KAAKA,YAAL,CAAkBH,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKI,aAAL,GAAqB,KAAKA,aAAL,CAAmBJ,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKK,cAAL,GAAsB,KAAKA,cAAL,CAAoBL,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKM,cAAL;AACD;;;;qCAEgB;AACf,WAAKC,oBAAL;AACA,WAAKC,0BAAL;AACA,WAAKC,iBAAL;AACA,WAAKC,0BAAL;AACAC,MAAAA,CAAC,CAAC,WAAD,CAAD,CAAeC,EAAf,CAAkB,OAAlB,EAA2B,KAAKC,gBAAhC;AACAF,MAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBC,EAApB,CAAuB,OAAvB,EAAgC,KAAKX,gBAArC;AACAU,MAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBC,EAAjB,CAAoB,OAApB,EAA6B,KAAKR,aAAlC;AACD;;;iDAE4B;AAC3B,UAAIU,QAAQ,CAACC,IAAT,CAAcC,QAAd,CAAuB,UAAvB,CAAJ,EAAwC;AACtC,YAAMC,YAAY,GAAG,IAAIC,eAAJ,CAAoBC,MAAM,CAACL,QAAP,CAAgBM,MAApC,CAArB;;AACA,YAAIH,YAAY,CAACI,GAAb,CAAiB,aAAjB,CAAJ,EAAqC;AACnC,eAAK1B,OAAL,CAAaC,WAAb,GAA2BqB,YAAY,CAACK,GAAb,CAAiB,aAAjB,CAA3B;AACD;;AACD,YAAIL,YAAY,CAACI,GAAb,CAAiB,OAAjB,CAAJ,EAA+B;AAC7B,eAAK1B,OAAL,CAAaE,KAAb,GAAqBoB,YAAY,CAACK,GAAb,CAAiB,OAAjB,CAArB;AACD;;AACD,YAAIL,YAAY,CAACI,GAAb,CAAiB,UAAjB,CAAJ,EAAkC;AAChC,eAAK1B,OAAL,CAAaG,QAAb,GAAwBmB,YAAY,CAACK,GAAb,CAAiB,UAAjB,CAAxB;AACD;;AACD,YAAMC,IAAI,GAAG,IAAb;AAEAZ,QAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBC,EAArB,CAAwB,OAAxB,EAAiC,YAAY;AAC3C,cAAMY,OAAO,GAAGb,CAAC,CAAC,IAAD,CAAD,CAAQc,IAAR,CAAa,SAAb,CAAhB;AACAF,UAAAA,IAAI,CAAClB,cAAL,CAAoBmB,OAApB,EAA6BD,IAAI,CAAC5B,OAAlC,EAA2C,cAA3C;AACD,SAHD;AAID;AACF;;;wCAEmB;AAClB,UAAImB,QAAQ,CAACC,IAAT,CAAcC,QAAd,CAAuB,UAAvB,CAAJ,EAAwC;AACtCL,QAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBe,KAAlB,CAAwB,MAAxB;AACD;;AAEDf,MAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBC,EAAlB,CAAqB,iBAArB,EAAwC,YAAM;AAC5C,YAAIE,QAAQ,CAACC,IAAT,CAAcC,QAAd,CAAuB,UAAvB,CAAJ,EAAwC;AACtCF,UAAAA,QAAQ,CAACC,IAAT,GAAgB,GAAhB;AACD,SAFD,MAEO;AACLD,UAAAA,QAAQ,CAACa,MAAT,CAAgB,IAAhB;AACD;AACF,OAND;AAOD;;;iDAE4B;AAC3B,UAAMJ,IAAI,GAAG,IAAb;AACAZ,MAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBC,EAAvB,CAA0B,OAA1B,EAAmC,YAAY;AAC7C,YAAMgB,IAAI,GAAGjB,CAAC,CAAC,IAAD,CAAD,CAAQc,IAAR,CAAa,WAAb,CAAb;AACA,YAAM5B,KAAK,GAAGc,CAAC,CAAC,IAAD,CAAD,CAAQc,IAAR,CAAa,WAAb,CAAd;AACAF,QAAAA,IAAI,CAAC5B,OAAL,CAAaE,KAAb,GAAqBA,KAArB;AACAc,QAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBkB,IAAjB;AACAlB,QAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBkB,IAAnB;AACAlB,QAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBmB,IAAnB,CAAwBjC,KAAxB;AACA0B,QAAAA,IAAI,CAACrB,gBAAL,CAAsB0B,IAAtB;AACD,OARD;AAUAjB,MAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBC,EAApB,CAAuB,OAAvB,EAAgC,YAAY;AAC1C,YAAMmB,UAAU,GAAGpB,CAAC,CAAC,IAAD,CAAD,CAAQmB,IAAR,EAAnB;AACAnB,QAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBkB,IAAjB;AACAlB,QAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBkB,IAAhB;AACAlB,QAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBmB,IAAhB,CAAqBC,UAArB;AACAR,QAAAA,IAAI,CAAC5B,OAAL,CAAaC,WAAb,GAA2BmC,UAA3B;AACD,OAND;AAQApB,MAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBC,EAAnB,CAAsB,OAAtB,EAA+B,KAAKT,YAApC;AACD;;;mCAEcqB,O,EAAS7B,O,EAASqC,I,EAAM;AACrC,UAAIA,IAAI,KAAK,cAAb,EAA6B;AAC3BR,QAAAA,OAAO,GAAGS,QAAQ,CAACT,OAAD,EAAU,EAAV,CAAlB;AACA,YAAI,CAAC,KAAKrC,sBAAV,EACE,KAAK+C,kBAAL,CAAwBV,OAAxB,EAAiC7B,OAAjC;AACH,OAJD,MAIO;AACL,YAAIqC,IAAI,CAACG,EAAT,EAAa;AACX,cAAIH,IAAI,CAACI,IAAL,KAAc,OAAlB,EAA2B;AACzBzB,YAAAA,CAAC,CAAC0B,OAAF,CAAU;AAAEC,cAAAA,QAAQ,EAAE;AAAEC,gBAAAA,OAAO,EAAE;AAAX;AAAZ,aAAV;AACA5B,YAAAA,CAAC,CAAC0B,OAAF,CAAU;AACRG,cAAAA,QAAQ,EAAE,QADF;AAERC,cAAAA,KAAK,EAAE,OAFC;AAGRC,cAAAA,OAAO;AAHC,aAAV;AAKD,WAPD,MAOO;AACLlB,YAAAA,OAAO,GAAGS,QAAQ,CAACT,OAAD,EAAU,EAAV,CAAlB;AACA,gBAAI,CAAC,KAAKrC,sBAAV,EACE,KAAK+C,kBAAL,CAAwBV,OAAxB,EAAiC7B,OAAjC;AACH;AACF,SAbD,MAaO;AACLgB,UAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBe,KAAlB,CAAwB,MAAxB;AACD;AACF;AACF;;;uCAEkBF,O,EAAS7B,O,EAAS;AAAA;;AACnC,WAAKR,sBAAL,GAA8B,IAA9B;AACAwD,MAAAA,KAAK,CACFC,IADH,CACQ,gBADR,EAC0B;AACtBC,QAAAA,UAAU,EAAErB,OADU;AAEtBsB,QAAAA,uBAAuB,EAAEnD,OAAO,CAACC,WAFX;AAGtBmD,QAAAA,iBAAiB,EAAEpD,OAAO,CAACE,KAHL;AAItBmD,QAAAA,oBAAoB,EAAErD,OAAO,CAACG;AAJR,OAD1B,EAOGmD,IAPH,CAOQ,gBAAc;AAAA,YAAXC,IAAW,QAAXA,IAAW;AAClBvC,QAAAA,CAAC,CAAC0B,OAAF,CAAU;AAAEC,UAAAA,QAAQ,EAAE;AAAEC,YAAAA,OAAO,EAAE;AAAX;AAAZ,SAAV;;AACA,YACEW,IAAI,IACJA,IAAI,CAACC,QADL,IAEAD,IAAI,CAACC,QAAL,KAAkB,kCAHpB,EAIE;AACA,cAAM9D,QAAQ,6BAAsBmC,OAAtB,OAAd;AACAb,UAAAA,CAAC,CAACtB,QAAD,CAAD,CAAYyC,IAAZ,CAAiB,WAAjB;AACAnB,UAAAA,CAAC,CAACtB,QAAD,CAAD,CAAY+D,IAAZ,CAAiB,UAAjB,EAA6B,IAA7B;AACAzC,UAAAA,CAAC,CAACtB,QAAD,CAAD,CAAY+D,IAAZ,CAAiB,SAAjB,EAA4B,IAA5B,EAAkCC,GAAlC,CAAsC,OAAtC;AAEA1C,UAAAA,CAAC,CAAC0B,OAAF,CAAU;AACRG,YAAAA,QAAQ,EAAE,SADF;AAERC,YAAAA,KAAK,EAAE,SAFC;AAGRC,YAAAA,OAAO,YAAKQ,IAAI,CAACC,QAAV,cACLD,IAAI,CAACI,aAAL,KAAuB,IAAvB,GACI,qCACC,KAAKrB,QAAQ,CAACiB,IAAI,CAACI,aAAN,EAAqB,EAArB,CADd,CADJ,GAGI,IAJC;AAHC,WAAV;AAUA,UAAA,KAAI,CAACnE,sBAAL,GAA8B,KAA9B;AACD,SArBD,MAqBO;AACLwB,UAAAA,CAAC,CAAC0B,OAAF,CAAU;AAAEC,YAAAA,QAAQ,EAAE;AAAEC,cAAAA,OAAO,EAAE;AAAX;AAAZ,WAAV;AACA5B,UAAAA,CAAC,CAAC0B,OAAF,CAAU;AACRG,YAAAA,QAAQ,EAAE,QADF;AAERC,YAAAA,KAAK,EAAE,OAFC;AAGRC,YAAAA,OAAO;AAHC,WAAV;AAKA,UAAA,KAAI,CAACvD,sBAAL,GAA8B,KAA9B;AACD;AACF,OAvCH,WAwCS,UAAUM,KAAV,EAAiB;AACtB8D,QAAAA,OAAO,CAACC,GAAR,CAAY/D,KAAZ;AACAkB,QAAAA,CAAC,CAAC0B,OAAF,CAAU;AACRG,UAAAA,QAAQ,EAAE,QADF;AAERC,UAAAA,KAAK,EAAE,OAFC;AAGRC,UAAAA,OAAO;AAHC,SAAV;AAKA,aAAKvD,sBAAL,GAA8B,KAA9B;AACD,OAhDH;AAiDD;;;qCAEgBsE,S,EAAW;AAAA;;AAC1Bd,MAAAA,KAAK,CACFrB,GADH,uCACsCmC,SADtC,GAEGR,IAFH,CAEQ,iBAAyB;AAAA,YAAhBS,SAAgB,SAAtBR,IAAsB;;AAC7B,YAAIQ,SAAS,IAAIA,SAAS,CAACC,MAAV,GAAmB,CAApC,EAAuC;AACrC,UAAA,MAAI,CAACC,iBAAL,CAAuBF,SAAvB;AACD;AACF,OANH,WAOS,UAAUjE,KAAV,EAAiB,CAAE,CAP5B;AAQD;;;uCAEkBuC,I,EAAM;AAAA;;AACvBrB,MAAAA,CAAC,CAAC,yBAAD,CAAD,CAA6BkD,IAA7B,CAAkC,EAAlC;AACAlD,MAAAA,CAAC,CAAC,mCAAD,CAAD,CAAuCmD,MAAvC,CAA8C,OAA9C;AACAnD,MAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBe,KAAlB,CAAwB,MAAxB;AAEAiB,MAAAA,KAAK,CACFC,IADH,CACQ,cADR,EACwB,KAAKjD,OAD7B,EAEGsD,IAFH,CAEQ,iBAAsB;AAAA,YAAbc,MAAa,SAAnBb,IAAmB;;AAC1B,YAAIa,MAAM,CAACJ,MAAP,GAAgB,CAApB,EAAuB;AACrB,cAAMpC,IAAI,GAAG,MAAb;AACA,cAAMyC,SAAS,GAAG,EAAlB;AACAD,UAAAA,MAAM,CAACE,OAAP,CAAe,UAACC,KAAD,EAAQC,KAAR,EAAkB;AAC/BH,YAAAA,SAAS,CAACI,IAAV,gDAEOD,KAAK,GAAG,CAFf,2CAGYD,KAAK,CAAC/B,EAHlB,qCAIO+B,KAAK,CAACtE,WAJb,qCAKOsE,KAAK,CAACpE,QALb,mFAOWoE,KAAK,CAAC/B,EAPjB;AAYD,WAbD;AAcAxB,UAAAA,CAAC,CAAC,yBAAD,CAAD,CAA6B0D,MAA7B,CAAoCL,SAAS,CAACM,IAAV,CAAe,EAAf,CAApC;AACA3D,UAAAA,CAAC,CAAC,mCAAD,CAAD,CAAuCC,EAAvC,CAA0C,OAA1C,EAAmD,YAAY;AAC7D,gBAAMY,OAAO,GAAGb,CAAC,CAAC,IAAD,CAAD,CAAQc,IAAR,CAAa,SAAb,CAAhB;AACAF,YAAAA,IAAI,CAAClB,cAAL,CAAoBmB,OAApB,EAA6BD,IAAI,CAAC5B,OAAlC,EAA2CqC,IAA3C;AACD,WAHD;AAID;AACF,OA1BH,WA2BS,UAAUvC,KAAV,EAAiB;AACtB8D,QAAAA,OAAO,CAACC,GAAR,CAAY/D,KAAZ;AACD,OA7BH;AA8BD;;;sCAEiBiE,S,EAAW;AAC3B,UAAMa,QAAQ,GAAG,EAAjB;AACA5D,MAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBkD,IAAxB,CAA6B,EAA7B;AACAH,MAAAA,SAAS,CAACO,OAAV,CAAkB,UAACnE,QAAD,EAAc;AAC9ByE,QAAAA,QAAQ,CAACH,IAAT,kEACwDtE,QAAQ,CAAC0E,IADjE;AAGD,OAJD;AAKA7D,MAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwB0D,MAAxB,CAA+BE,QAAQ,CAACD,IAAT,CAAc,EAAd,CAA/B;AACA3D,MAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BmD,MAA1B,CAAiC,OAAjC;AACA,UAAMvC,IAAI,GAAG,IAAb;AAEAZ,MAAAA,CAAC,CAAC,sBAAD,CAAD,CAA0BC,EAA1B,CAA6B,OAA7B,EAAsC,YAAY;AAChD,YAAMd,QAAQ,GAAGa,CAAC,CAAC,IAAD,CAAD,CAAQmB,IAAR,EAAjB;AACAnB,QAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBkB,IAAjB;AACAlB,QAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBkB,IAAtB;AACAlB,QAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBmB,IAAtB,CAA2BhC,QAA3B;AACAyB,QAAAA,IAAI,CAAC5B,OAAL,CAAaG,QAAb,GAAwBA,QAAxB;AACD,OAND;AAOD;;;2CAEsB;AAAA;;AACrB,WAAKV,KAAL,CAAWqF,GAAX,CAAe,UAACC,CAAD,EAAIP,KAAJ,EAAc;AAAA,YACnB9E,QADmB,GACCqF,CADD,CACnBrF,QADmB;AAAA,YACTC,KADS,GACCoF,CADD,CACTpF,KADS;AAE3B,YAAMiC,IAAI,GAAG,MAAb;AACAZ,QAAAA,CAAC,YAAKtB,QAAL,EAAD,CAAkBsF,IAAlB,CAAuB,YAAY;AACjC,cAAIpD,IAAI,CAACrC,OAAT,EAAkBqC,IAAI,CAACqD,SAAL,CAAevF,QAAf,EAAyBC,KAAzB,EAAgC6E,KAAhC;AACnB,SAFD;AAGD,OAND;AAOD;;;8BAES9E,Q,EAAUC,K,EAAO6E,K,EAAO;AAChC,UAAMU,OAAO,GAAGlE,CAAC,YAAKtB,QAAL,EAAjB;AACA,UAAMG,KAAK,GAAGqF,OAAO,CAACC,GAAR,EAAd;AACA,UAAMC,YAAY,GAAGF,OAAO,CAACG,IAAR,EAArB;AACA,UAAItC,OAAO,GAAG,EAAd;AACA,UAAIuC,KAAK,GAAG,IAAZ;;AAEA,UAAI,CAACzF,KAAD,IAAUF,KAAK,CAACC,QAAhB,IAA4BD,KAAK,CAACC,QAAN,CAAeC,KAA/C,EAAsD;AACpD,YAAI,CAACF,KAAK,CAACC,QAAN,CAAe2F,UAApB,EAAgC;AAC9BD,UAAAA,KAAK,GAAG,KAAR;AACAvC,UAAAA,OAAO,GAAGpD,KAAK,CAACC,QAAN,CAAeE,KAAzB;AACD,SAHD,MAGO;AACLH,UAAAA,KAAK,CAACC,QAAN,CAAe2F,UAAf,CAA0BjB,OAA1B,CAAkC,UAACkB,IAAD,EAAU;AAC1C,gBAAM9F,QAAQ,GAAG8F,IAAI,CAAC9F,QAAtB;;AACA,gBAAI,CAACsB,CAAC,CAACtB,QAAD,CAAD,CAAYyF,GAAZ,EAAL,EAAwB;AACtBG,cAAAA,KAAK,GAAG,KAAR;AACAvC,cAAAA,OAAO,GAAGpD,KAAK,CAACC,QAAN,CAAeE,KAAzB;AACD;AACF,WAND;AAOD;AACF,OAbD,MAaO,IAAIH,KAAK,CAACI,KAAV,EAAiB;AACtBuF,QAAAA,KAAK,GAAG,IAAIG,MAAJ,CAAW9F,KAAK,CAACI,KAAN,CAAYF,KAAvB,EAA8B6F,IAA9B,CAAmC7F,KAAnC,CAAR;;AACA,YAAIF,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeC,KAAf,KAAyB,KAA/C,EAAsD;AACpDyF,UAAAA,KAAK,GAAG,CAACzF,KAAD,IAAUyF,KAAlB;AACD;;AACD,YAAI,CAACA,KAAL,EAAYvC,OAAO,GAAGpD,KAAK,CAACI,KAAN,CAAYD,KAAtB;AACb,OANM,MAMA,IAAIH,KAAK,CAACgG,KAAV,EAAiB;AACtB,YAAMC,gBAAgB,GAAG5E,CAAC,YAAKrB,KAAK,CAACgG,KAAN,CAAY9F,KAAjB,EAAD,CAA2BsF,GAA3B,EAAzB;;AACA,YAAItF,KAAK,KAAK+F,gBAAd,EAAgC;AAC9BN,UAAAA,KAAK,GAAG,KAAR;AACAvC,UAAAA,OAAO,GAAGpD,KAAK,CAACgG,KAAN,CAAY7F,KAAtB;AACD;AACF;;AACD,UAAI,CAACwF,KAAD,IAAUvC,OAAd,EAAuB;AACrBqC,QAAAA,YAAY,CAACjD,IAAb,CAAkBY,OAAlB;AACAqC,QAAAA,YAAY,CAAClD,IAAb;AACD,OAHD,MAGO;AACLkD,QAAAA,YAAY,CAACjD,IAAb,CAAkB,EAAlB;AACAiD,QAAAA,YAAY,CAACS,IAAb;AACD;;AACD,WAAKpG,KAAL,CAAW+E,KAAX,EAAkB3E,KAAlB,GAA0BA,KAA1B;AACA,aAAOyF,KAAP;AACD;;;sCAEiB;AAChB,UAAIA,KAAK,GAAG,IAAZ;AACA,UAAIQ,SAAS,GAAG,IAAhB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKtG,KAAL,CAAWuE,MAA/B,EAAuC+B,CAAC,EAAxC,EAA4C;AAAA,4BACd,KAAKtG,KAAL,CAAWsG,CAAX,CADc;AAAA,YAClCrG,QADkC,iBAClCA,QADkC;AAAA,YACxBC,KADwB,iBACxBA,KADwB;AAE1C2F,QAAAA,KAAK,GAAG,KAAKL,SAAL,CAAevF,QAAf,EAAyBC,KAAzB,EAAgCoG,CAAhC,CAAR;AACA,YAAI,CAACT,KAAL,EAAYQ,SAAS,GAAG,KAAZ;AACb;;AACD,aAAOA,SAAP;AACD;;;uCAEkB;AACjB9C,MAAAA,KAAK,CACFrB,GADH,mBAEG2B,IAFH,CAEQ,iBAAoB;AAAA,YAAXjB,IAAW,SAAjBkB,IAAiB;;AACxB,YAAIlB,IAAI,CAACG,EAAT,EAAa;AACXhB,UAAAA,MAAM,CAACL,QAAP,CAAgBC,IAAhB,GAAuB,YAAvB;AACD,SAFD,MAEO;AACLJ,UAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBe,KAAlB,CAAwB,MAAxB;AACD;AACF,OARH,WASS,UAAUjC,KAAV,EAAiB;AACtB8D,QAAAA,OAAO,CAACC,GAAR,CAAY/D,KAAZ;AACD,OAXH;AAYD;;;oCAEe;AAAA;;AAAA,0BACuC,KAAKE,OAD5C;AAAA,UACOoC,UADP,iBACNnC,WADM;AAAA,UACmBC,KADnB,iBACmBA,KADnB;AAAA,UAC0BC,QAD1B,iBAC0BA,QAD1B;AAEd,UAAImF,KAAK,GAAG,IAAZ;;AACA,UAAI,CAAClD,UAAL,EAAiB;AACfpB,QAAAA,CAAC,CAAC0B,OAAF,CAAU;AAAEC,UAAAA,QAAQ,EAAE;AAAEC,YAAAA,OAAO,EAAE;AAAX;AAAZ,SAAV;AACA5B,QAAAA,CAAC,CAAC0B,OAAF,CAAU;AACRG,UAAAA,QAAQ,EAAE,QADF;AAERC,UAAAA,KAAK,EAAE,OAFC;AAGRC,UAAAA,OAAO;AAHC,SAAV;AAKAuC,QAAAA,KAAK,GAAG,KAAR;AACD;;AAED,UAAI,CAACpF,KAAL,EAAY;AACVc,QAAAA,CAAC,CAAC0B,OAAF,CAAU;AAAEC,UAAAA,QAAQ,EAAE;AAAEC,YAAAA,OAAO,EAAE;AAAX;AAAZ,SAAV;AACA5B,QAAAA,CAAC,CAAC0B,OAAF,CAAU;AACRG,UAAAA,QAAQ,EAAE,QADF;AAERC,UAAAA,KAAK,EAAE,OAFC;AAGRC,UAAAA,OAAO;AAHC,SAAV;AAKAuC,QAAAA,KAAK,GAAG,KAAR;AACD;;AAED,UAAI,CAACnF,QAAL,EAAe;AACba,QAAAA,CAAC,CAAC0B,OAAF,CAAU;AAAEC,UAAAA,QAAQ,EAAE;AAAEC,YAAAA,OAAO,EAAE;AAAX;AAAZ,SAAV;AACA5B,QAAAA,CAAC,CAAC0B,OAAF,CAAU;AACRG,UAAAA,QAAQ,EAAE,QADF;AAERC,UAAAA,KAAK,EAAE,OAFC;AAGRC,UAAAA,OAAO;AAHC,SAAV;AAKAuC,QAAAA,KAAK,GAAG,KAAR;AACD;;AAED,UAAIA,KAAJ,EAAW;AACTtC,QAAAA,KAAK,CAACrB,GAAN,mBAA4B2B,IAA5B,CAAiC,iBAAoB;AAAA,cAAXjB,IAAW,SAAjBkB,IAAiB;;AACnD,cAAIlB,IAAI,CAACG,EAAT,EAAa;AACX,gBAAIH,IAAI,CAACI,IAAL,KAAc,OAAlB,EAA2B;AACzBzB,cAAAA,CAAC,CAAC0B,OAAF,CAAU;AAAEC,gBAAAA,QAAQ,EAAE;AAAEC,kBAAAA,OAAO,EAAE;AAAX;AAAZ,eAAV;AACA5B,cAAAA,CAAC,CAAC0B,OAAF,CAAU;AACRG,gBAAAA,QAAQ,EAAE,QADF;AAERC,gBAAAA,KAAK,EAAE,OAFC;AAGRC,gBAAAA,OAAO;AAHC,eAAV;AAKD,aAPD,MAOO;AACL,cAAA,MAAI,CAACiD,kBAAL,CAAwB3D,IAAxB;AACD;AACF,WAXD,MAWO;AACLrB,YAAAA,CAAC,CAAC,iBAAD,CAAD,CAAqBc,IAArB,CACE,cADF,gCAEyBmE,kBAAkB,CACvC7D,UADuC,CAF3C,oBAIa6D,kBAAkB,CAAC/F,KAAD,CAJ/B,uBAImD+F,kBAAkB,CACjE9F,QADiE,CAJrE;AAQAa,YAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBmB,IAAnB,CAAwB,wBAAxB;AACAnB,YAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBe,KAAlB,CAAwB,MAAxB;AACD;AACF,SAxBD;AAyBD;AACF;;;qCAEgBmE,K,EAAO;AACtBA,MAAAA,KAAK,CAACC,cAAN;AACA,WAAK5G,OAAL,GAAe,IAAf;AACA,UAAM+F,KAAK,GAAG,KAAKlF,eAAL,EAAd;;AACA,UAAIkF,KAAJ,EAAW;AACT,aAAKc,YAAL;AACD;AACF;;;gCAEW;AACV,WAAK3G,KAAL,CAAW6E,OAAX,CAAmB,UAACS,CAAD,EAAO;AAAA,YAChBrF,QADgB,GACHqF,CADG,CAChBrF,QADgB;AAExBsB,QAAAA,CAAC,YAAKtB,QAAL,EAAD,CAAkByF,GAAlB,CAAsB,EAAtB;AACAJ,QAAAA,CAAC,CAAClF,KAAF,GAAU,EAAV;AACD,OAJD;AAKAmB,MAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuB6E,IAAvB;AACD;;;mCAEc;AACb,WAAK7F,OAAL,GAAe;AACbC,QAAAA,WAAW,EAAE,EADA;AAEbC,QAAAA,KAAK,EAAE,EAFM;AAGbC,QAAAA,QAAQ,EAAE;AAHG,OAAf;AAKAa,MAAAA,CAAC,CAAC,aAAD,CAAD,CAAiB6E,IAAjB;AACA7E,MAAAA,CAAC,CAAC,eAAD,CAAD,CAAmB6E,IAAnB;AACA7E,MAAAA,CAAC,CAAC,YAAD,CAAD,CAAgB6E,IAAhB;AACA7E,MAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBkD,IAAnB,CAAwB,EAAxB;AACAlD,MAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBkD,IAAhB,CAAqB,EAArB;AACAlD,MAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsB6E,IAAtB;AACA7E,MAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBkD,IAAtB,CAA2B,EAA3B;AACAlD,MAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBkD,IAAxB,CAA6B,EAA7B;AACD;;;mCAEc;AAAA;;AAAA,UACLzE,KADK,GACK,IADL,CACLA,KADK;AAEb,UAAM8D,IAAI,GAAG;AACXsB,QAAAA,IAAI,EAAEpF,KAAK,CAAC,CAAD,CAAL,CAASI,KAAT,GAAiB,GAAjB,GAAuBJ,KAAK,CAAC,CAAD,CAAL,CAASI,KAD3B;AAEXwG,QAAAA,KAAK,EAAE5G,KAAK,CAAC,CAAD,CAAL,CAASI,KAFL;AAGXkD,QAAAA,OAAO,EAAEtD,KAAK,CAAC,CAAD,CAAL,CAASI;AAHP,OAAb;AAMAmD,MAAAA,KAAK,CACFC,IADH,CACQ,gBADR,EAC0BM,IAD1B,EAEGD,IAFH,CAEQ,iBAAwB;AAAA,YAAfgD,QAAe,SAArB/C,IAAqB;AAC5BvC,QAAAA,CAAC,CAAC0B,OAAF,CAAU;AAAEC,UAAAA,QAAQ,EAAE;AAAEC,YAAAA,OAAO,EAAE;AAAX;AAAZ,SAAV;;AACA,YAAI0D,QAAQ,IAAIA,QAAQ,CAACC,OAAzB,EAAkC;AAChC,UAAA,MAAI,CAACC,SAAL;;AACAxF,UAAAA,CAAC,CAAC0B,OAAF,CAAU;AACRG,YAAAA,QAAQ,EAAE,SADF;AAERC,YAAAA,KAAK,EAAE,SAFC;AAGRC,YAAAA,OAAO;AAHC,WAAV;AAKD,SAPD,MAOO;AACL/B,UAAAA,CAAC,CAAC0B,OAAF,CAAU;AACRG,YAAAA,QAAQ,EAAE,QADF;AAERC,YAAAA,KAAK,EAAE,OAFC;AAGRC,YAAAA,OAAO;AAHC,WAAV;AAKD;AACF,OAlBH,WAmBS,UAAUjD,KAAV,EAAiB;AACtBkB,QAAAA,CAAC,CAAC0B,OAAF,CAAU;AACRG,UAAAA,QAAQ,EAAE,QADF;AAERC,UAAAA,KAAK,EAAE,OAFC;AAGRC,UAAAA,OAAO;AAHC,SAAV;AAKD,OAzBH;AA0BD;;;;;;AAGH/B,CAAC,CAACyF,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAY;AAC5B,MAAIpH,IAAJ;AACD,CAFD","sourcesContent":["class Home {\r\n  constructor() {\r\n    this.clicked = false;\r\n    this.requestToDonorProgress = false;\r\n    this.model = [\r\n      {\r\n        selector: \"fb-firstName\",\r\n        rules: {\r\n          required: {\r\n            value: true,\r\n            error: \"First name is required.\",\r\n          },\r\n        },\r\n        value: \"\",\r\n      },\r\n      {\r\n        selector: \"fb-lastName\",\r\n        rules: {\r\n          required: {\r\n            value: true,\r\n            error: \"Last name is required.\",\r\n          },\r\n        },\r\n        value: \"\",\r\n      },\r\n      {\r\n        selector: \"fb-email\",\r\n        rules: {\r\n          regex: {\r\n            value: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\r\n            error: \"Please enter a valid email address\",\r\n          },\r\n        },\r\n        value: \"\",\r\n      },\r\n      {\r\n        selector: \"fb-msg\",\r\n        rules: {\r\n          required: {\r\n            value: true,\r\n            error: \"Message is required.\",\r\n          },\r\n        },\r\n        value: \"Message is required\",\r\n      },\r\n    ];\r\n\r\n    this.filters = {\r\n      blood_group: \"\",\r\n      state: \"\",\r\n      district: \"\",\r\n    };\r\n\r\n    this.checkValidation = this.checkValidation.bind(this);\r\n    this.onFeedBackSubmit = this.onFeedBackSubmit.bind(this);\r\n    this.requestDistricts = this.requestDistricts.bind(this);\r\n    this.resetFilters = this.resetFilters.bind(this);\r\n    this.onSearchClick = this.onSearchClick.bind(this);\r\n    this.onRequestClick = this.onRequestClick.bind(this);\r\n    this.setUpListeners();\r\n  }\r\n\r\n  setUpListeners() {\r\n    this.setUpOnBlurListeners();\r\n    this.setUpSearchFieldsListeners();\r\n    this.setModalListeners();\r\n    this.setSearchListPageListeners();\r\n    $(\".btn-help\").on(\"click\", this.onIWillHelpClick);\r\n    $(\".feedback-send\").on(\"click\", this.onFeedBackSubmit);\r\n    $(\".search-btn\").on(\"click\", this.onSearchClick);\r\n  }\r\n\r\n  setSearchListPageListeners() {\r\n    if (location.href.includes(\"/search?\")) {\r\n      const searchParams = new URLSearchParams(window.location.search);\r\n      if (searchParams.has(\"blood_group\")) {\r\n        this.filters.blood_group = searchParams.get(\"blood_group\");\r\n      }\r\n      if (searchParams.has(\"state\")) {\r\n        this.filters.state = searchParams.get(\"state\");\r\n      }\r\n      if (searchParams.has(\"district\")) {\r\n        this.filters.district = searchParams.get(\"district\");\r\n      }\r\n      const self = this;\r\n\r\n      $(\".btn-search-req\").on(\"click\", function () {\r\n        const donorId = $(this).attr(\"data-id\");\r\n        self.onRequestClick(donorId, self.filters, \"not-required\");\r\n      });\r\n    }\r\n  }\r\n\r\n  setModalListeners() {\r\n    if (location.href.includes(\"/search?\")) {\r\n      $(\"#searchModal\").modal(\"show\");\r\n    }\r\n\r\n    $(\"#searchModal\").on(\"hidden.bs.modal\", () => {\r\n      if (location.href.includes(\"/search?\")) {\r\n        location.href = \"/\";\r\n      } else {\r\n        location.reload(true);\r\n      }\r\n    });\r\n  }\r\n\r\n  setUpSearchFieldsListeners() {\r\n    const self = this;\r\n    $(\".state-dropdown a\").on(\"click\", function () {\r\n      const code = $(this).attr(\"data-code\");\r\n      const state = $(this).attr(\"data-name\");\r\n      self.filters.state = state;\r\n      $(\".filter-div\").show();\r\n      $(\".filter-state\").show();\r\n      $(\".select-state\").text(state);\r\n      self.requestDistricts(code);\r\n    });\r\n\r\n    $(\".bg-dropdown a\").on(\"click\", function () {\r\n      const bloodGroup = $(this).text();\r\n      $(\".filter-div\").show();\r\n      $(\".filter-bg\").show();\r\n      $(\".select-bg\").text(bloodGroup);\r\n      self.filters.blood_group = bloodGroup;\r\n    });\r\n\r\n    $(\".clear-filter\").on(\"click\", this.resetFilters);\r\n  }\r\n\r\n  onRequestClick(donorId, filters, user) {\r\n    if (user === \"not-required\") {\r\n      donorId = parseInt(donorId, 10);\r\n      if (!this.requestToDonorProgress)\r\n        this.sendRequestToDonor(donorId, filters);\r\n    } else {\r\n      if (user.id) {\r\n        if (user.role === \"donor\") {\r\n          $.toaster({ settings: { timeout: 10000 } });\r\n          $.toaster({\r\n            priority: \"danger\",\r\n            title: \"Error\",\r\n            message: `You are logged in as a donar. You need to be a receiver to be able to request plasma!`,\r\n          });\r\n        } else {\r\n          donorId = parseInt(donorId, 10);\r\n          if (!this.requestToDonorProgress)\r\n            this.sendRequestToDonor(donorId, filters);\r\n        }\r\n      } else {\r\n        $(\"#signinModal\").modal(\"show\");\r\n      }\r\n    }\r\n  }\r\n\r\n  sendRequestToDonor(donorId, filters) {\r\n    this.requestToDonorProgress = true;\r\n    axios\r\n      .post(\"/request/donor\", {\r\n        p_donor_id: donorId,\r\n        p_requested_blood_group: filters.blood_group,\r\n        p_requested_state: filters.state,\r\n        p_requested_district: filters.district,\r\n      })\r\n      .then(({ data }) => {\r\n        $.toaster({ settings: { timeout: 16000 } });\r\n        if (\r\n          data &&\r\n          data.t_result &&\r\n          data.t_result === \"Your apply request is succeeded.\"\r\n        ) {\r\n          const selector = `button[data-id='${donorId}']`;\r\n          $(selector).text(\"Requested\");\r\n          $(selector).prop(\"disabled\", true);\r\n          $(selector).prop(\"onclick\", null).off(\"click\");\r\n\r\n          $.toaster({\r\n            priority: \"success\",\r\n            title: \"Success\",\r\n            message: `${data.t_result} ${\r\n              data.t_apply_count !== null\r\n                ? \"\\nRemaining Quota for today is \" +\r\n                  (35 - parseInt(data.t_apply_count, 10))\r\n                : null\r\n            }`,\r\n          });\r\n          this.requestToDonorProgress = false;\r\n        } else {\r\n          $.toaster({ settings: { timeout: 1000 } });\r\n          $.toaster({\r\n            priority: \"danger\",\r\n            title: \"Error\",\r\n            message: `Something is wrong! Please try again later. If the issue persist for long time, please contact us.`,\r\n          });\r\n          this.requestToDonorProgress = false;\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n        $.toaster({\r\n          priority: \"danger\",\r\n          title: \"Error\",\r\n          message: `Something is wrong! Please try again later. If the issue persist for long time, please contact us.`,\r\n        });\r\n        this.requestToDonorProgress = false;\r\n      });\r\n  }\r\n\r\n  requestDistricts(stateCode) {\r\n    axios\r\n      .get(`/address/get-districts?code=${stateCode}`)\r\n      .then(({ data: districts }) => {\r\n        if (districts && districts.length > 0) {\r\n          this.populateDistricts(districts);\r\n        }\r\n      })\r\n      .catch(function (error) {});\r\n  }\r\n\r\n  requestSearchLists(user) {\r\n    $(\".table-searchlist tbody\").html(\"\");\r\n    $(\".table-searchlist tbody td button\").unbind(\"click\");\r\n    $(\"#searchModal\").modal(\"show\");\r\n\r\n    axios\r\n      .post(\"/user/search\", this.filters)\r\n      .then(({ data: donors }) => {\r\n        if (donors.length > 0) {\r\n          const self = this;\r\n          const trElement = [];\r\n          donors.forEach((donor, index) => {\r\n            trElement.push(`\r\n            <tr>\r\n            <td> ${index + 1} </td>\r\n            <td>Donor-${donor.id}</td>\r\n            <td> ${donor.blood_group}</td>\r\n            <td> ${donor.district}</td>\r\n            <td><button type=\"button\"\r\n            data-id=\"${donor.id}\"\r\n            class=\"btn btn-sm btn-outline-success\">Request</button>\r\n            </td>\r\n            </tr>\r\n            `);\r\n          });\r\n          $(\".table-searchlist tbody\").append(trElement.join(\"\"));\r\n          $(\".table-searchlist tbody td button\").on(\"click\", function () {\r\n            const donorId = $(this).attr(\"data-id\");\r\n            self.onRequestClick(donorId, self.filters, user);\r\n          });\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  populateDistricts(districts) {\r\n    const elements = [];\r\n    $(\".district-dropdown\").html(\"\");\r\n    districts.forEach((district) => {\r\n      elements.push(\r\n        `<a class=\"dropdown-item\" href=\"javascript:void(0)\">${district.name}</a>`\r\n      );\r\n    });\r\n    $(\".district-dropdown\").append(elements.join(\"\"));\r\n    $(\".district-dropdown a\").unbind(\"click\");\r\n    const self = this;\r\n\r\n    $(\".district-dropdown a\").on(\"click\", function () {\r\n      const district = $(this).text();\r\n      $(\".filter-div\").show();\r\n      $(\".filter-district\").show();\r\n      $(\".select-district\").text(district);\r\n      self.filters.district = district;\r\n    });\r\n  }\r\n\r\n  setUpOnBlurListeners() {\r\n    this.model.map((v, index) => {\r\n      const { selector, rules } = v;\r\n      const self = this;\r\n      $(`#${selector}`).blur(function () {\r\n        if (self.clicked) self.showError(selector, rules, index);\r\n      });\r\n    });\r\n  }\r\n\r\n  showError(selector, rules, index) {\r\n    const element = $(`#${selector}`);\r\n    const value = element.val();\r\n    const errorElement = element.next();\r\n    let message = \"\";\r\n    let valid = true;\r\n\r\n    if (!value && rules.required && rules.required.value) {\r\n      if (!rules.required.conditions) {\r\n        valid = false;\r\n        message = rules.required.error;\r\n      } else {\r\n        rules.required.conditions.forEach((cond) => {\r\n          const selector = cond.selector;\r\n          if (!$(selector).val()) {\r\n            valid = false;\r\n            message = rules.required.error;\r\n          }\r\n        });\r\n      }\r\n    } else if (rules.regex) {\r\n      valid = new RegExp(rules.regex.value).test(value);\r\n      if (rules.required && rules.required.value === false) {\r\n        valid = !value || valid;\r\n      }\r\n      if (!valid) message = rules.regex.error;\r\n    } else if (rules.match) {\r\n      const matchSelectorVal = $(`#${rules.match.value}`).val();\r\n      if (value !== matchSelectorVal) {\r\n        valid = false;\r\n        message = rules.match.error;\r\n      }\r\n    }\r\n    if (!valid && message) {\r\n      errorElement.text(message);\r\n      errorElement.show();\r\n    } else {\r\n      errorElement.text(\"\");\r\n      errorElement.hide();\r\n    }\r\n    this.model[index].value = value;\r\n    return valid;\r\n  }\r\n\r\n  checkValidation() {\r\n    let valid = true;\r\n    let retrunVal = true;\r\n    for (let i = 0; i < this.model.length; i++) {\r\n      const { selector, rules } = this.model[i];\r\n      valid = this.showError(selector, rules, i);\r\n      if (!valid) retrunVal = false;\r\n    }\r\n    return retrunVal;\r\n  }\r\n\r\n  onIWillHelpClick() {\r\n    axios\r\n      .get(`/user/who-am-i`)\r\n      .then(({ data: user }) => {\r\n        if (user.id) {\r\n          window.location.href = \"/dashboard\";\r\n        } else {\r\n          $(\"#signinModal\").modal(\"show\");\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onSearchClick() {\r\n    const { blood_group: bloodGroup, state, district } = this.filters;\r\n    let valid = true;\r\n    if (!bloodGroup) {\r\n      $.toaster({ settings: { timeout: 4000 } });\r\n      $.toaster({\r\n        priority: \"danger\",\r\n        title: \"Error\",\r\n        message: `Please choose the blood group!`,\r\n      });\r\n      valid = false;\r\n    }\r\n\r\n    if (!state) {\r\n      $.toaster({ settings: { timeout: 4000 } });\r\n      $.toaster({\r\n        priority: \"danger\",\r\n        title: \"Error\",\r\n        message: `Please choose the state!`,\r\n      });\r\n      valid = false;\r\n    }\r\n\r\n    if (!district) {\r\n      $.toaster({ settings: { timeout: 4000 } });\r\n      $.toaster({\r\n        priority: \"danger\",\r\n        title: \"Error\",\r\n        message: `Please choose the district!`,\r\n      });\r\n      valid = false;\r\n    }\r\n\r\n    if (valid) {\r\n      axios.get(`/user/who-am-i`).then(({ data: user }) => {\r\n        if (user.id) {\r\n          if (user.role === \"donor\") {\r\n            $.toaster({ settings: { timeout: 10000 } });\r\n            $.toaster({\r\n              priority: \"danger\",\r\n              title: \"Error\",\r\n              message: `You are logged in as a donar. You need to be a receiver to be able to request plasma!`,\r\n            });\r\n          } else {\r\n            this.requestSearchLists(user);\r\n          }\r\n        } else {\r\n          $(\".confirm-signin\").attr(\r\n            \"data-nexturl\",\r\n            `/search?blood_group=${encodeURIComponent(\r\n              bloodGroup\r\n            )}&state=${encodeURIComponent(state)}&district=${encodeURIComponent(\r\n              district\r\n            )}`\r\n          );\r\n          $(\".sign-in-text\").text(\"sign in to view donors\");\r\n          $(\"#signinModal\").modal(\"show\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  onFeedBackSubmit(event) {\r\n    event.preventDefault();\r\n    this.clicked = true;\r\n    const valid = this.checkValidation();\r\n    if (valid) {\r\n      this.sendFeedback();\r\n    }\r\n  }\r\n\r\n  resetForm() {\r\n    this.model.forEach((v) => {\r\n      const { selector } = v;\r\n      $(`#${selector}`).val(\"\");\r\n      v.value = \"\";\r\n    });\r\n    $(\".invalid-feedback\").hide();\r\n  }\r\n\r\n  resetFilters() {\r\n    this.filters = {\r\n      blood_group: \"\",\r\n      state: \"\",\r\n      district: \"\",\r\n    };\r\n    $(\".filter-div\").hide();\r\n    $(\".filter-state\").hide();\r\n    $(\".filter-bg\").hide();\r\n    $(\".select-state\").html(\"\");\r\n    $(\".select-bg\").html(\"\");\r\n    $(\".filter-district\").hide();\r\n    $(\".select-district\").html(\"\");\r\n    $(\".district-dropdown\").html(\"\");\r\n  }\r\n\r\n  sendFeedback() {\r\n    const { model } = this;\r\n    const data = {\r\n      name: model[0].value + \" \" + model[1].value,\r\n      email: model[2].value,\r\n      message: model[3].value,\r\n    };\r\n\r\n    axios\r\n      .post(\"/site/feedback\", data)\r\n      .then(({ data: response }) => {\r\n        $.toaster({ settings: { timeout: 3000 } });\r\n        if (response && response.success) {\r\n          this.resetForm();\r\n          $.toaster({\r\n            priority: \"success\",\r\n            title: \"Success\",\r\n            message: `Your feedback has been submitted successfully.`,\r\n          });\r\n        } else {\r\n          $.toaster({\r\n            priority: \"danger\",\r\n            title: \"Error\",\r\n            message: `Something is wrong. Please try later`,\r\n          });\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        $.toaster({\r\n          priority: \"danger\",\r\n          title: \"Error\",\r\n          message: `Something is wrong. Please try later`,\r\n        });\r\n      });\r\n  }\r\n}\r\n\r\n$(document).ready(function () {\r\n  new Home();\r\n});\r\n"],"file":"home.js"}